<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Update and Manipulate Rd Documentation Objects • Rdpack</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Update and Manipulate Rd Documentation Objects">
<meta property="og:description" content="Functions for manipulation of R documentation objects,
    including functions reprompt() and ereprompt() for updating 'Rd'
    documentation for functions, methods and classes; 'Rd' macros for
    citations and import of references from 'bibtex' files for use in
    'Rd' files and 'roxygen2' comments; and many functions for
    manipulation of references and Rd files.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Rdpack</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.9.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/GeoBosh/Rdpack">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
    
<p>Rdpack provides functions for manipulation of R documentation objects, including functions <code><a href="reference/reprompt.html">reprompt()</a></code> and <code><a href="reference/ereprompt.html">ereprompt()</a></code> for updating existing Rd documentation for functions, methods and classes; Rd macros for citations and import of references from <code>bibtex</code> files for use in <code>Rd</code> files and <code>roxygen2</code> comments; and many functions for manipulation of references and Rd files.</p>
<div id="table-of-contents" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#table-of-contents" class="anchor"></a>Table of Contents</h1></div>
<ol>
<li><a href="#orgaba8366">Installing Rdpack</a></li>
<li>
<a href="#org43964ea">Inserting Bibtex references and citations</a>
<ol>
<li><a href="#orgd4b1046">Preparation</a></li>
<li><a href="#org74b656d">Inserting references</a></li>
<li><a href="#org671c6b0">Inserting citations</a></li>
<li><a href="#orga414a22">Changing the style of references</a></li>
<li>
<a href="#org42ce6a6">Troubleshooting</a>
<ol>
<li><a href="#orgaf9110b">A puzzling message in devtools development mode</a></li>
<li><a href="#org3f51222">Typical errors</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#org2bbb062">Viewing Rd files</a></li>
<li>
<a href="#orgeab302e">Using Rdpack::reprompt()</a>
<ol>
<li><a href="#orgde74e9d">What it does</a></li>
<li><a href="#orgcb865fc">Reprompt and open in an editor</a></li>
</ol>
</li>
<li><a href="#orgabfa57b">Inserting evaluated examples</a></li>
<li><a href="#orgcb5ab38">Inserting figures/graphs/plots</a></li>
</ol>
<p><a id="orgaba8366"></a></p>
</div>
<div id="installing-rdpack" class="section level1">
<h1 class="hasAnchor">
<a href="#installing-rdpack" class="anchor"></a>Installing Rdpack</h1>
<p>Install the <a href="https://cran.r-project.org/package=Rdpack">latest stable version</a> from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install_packages</span>(<span class="st">"Rdpack"</span>)</a></code></pre></div>
<p>You can also install the <a href="https://github.com/GeoBosh/Rdpack">development version</a> of <code>Rdpack</code> from Github:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(devtools)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">install_github</span>(<span class="st">"GeoBosh/Rdpack"</span>)</a></code></pre></div>
<p><a id="org43964ea"></a></p>
</div>
<div id="inserting-bibtex-references-and-citations" class="section level1">
<h1 class="hasAnchor">
<a href="#inserting-bibtex-references-and-citations" class="anchor"></a>Inserting Bibtex references and citations</h1>
<p>The simplest way to insert Bibtex references is with the Rd macro <code>\insertRef</code>. Just put <code>\insertRef{key}{package}</code> in the documentation to insert item with key <code>key</code> from file <code>REFERENCES.bib</code> in your package <code>package</code>. For this to work the <code>DESCRIPTION</code> file of the package needs to be amended, see below the full details.</p>
<p><a id="orgd4b1046"></a></p>
<div id="preparation" class="section level2">
<h2 class="hasAnchor">
<a href="#preparation" class="anchor"></a>Preparation</h2>
<p>To prepare a package for importing BibTeX references it is necessary to tell the package management tools that package Rdpack and its Rd macros are needed. The references should be put in file <code>inst/REFERENCES.bib</code>. These steps are enumerated below in somewhat more detail, see also the vignette <a href="https://cran.r-project.org/package=Rdpack"><code>Inserting_bibtex_references</code></a>.</p>
<ol>
<li>
<p>Add the following lines to file “DESCRIPTION”:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">Imports<span class="op">:</span><span class="st"> </span>Rdpack</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">RdMacros<span class="op">:</span><span class="st"> </span>Rdpack</a></code></pre></div>
<p>Make sure the capitalisation of <code>RdMacros:</code> is as shown. If the field <code>RdMacros:</code> is already present, add “Rdpack” to the list on that line. Similarly for field “Imports”.</p>
</li>
<li>
<p>Add the following line to file “NAMESPACE”:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">importFrom</span>(Rdpack,reprompt)</a></code></pre></div>
<p>The equivalent line for <code>roxygen2</code> is</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co">#' @importFrom Rdpack reprompt</span></a></code></pre></div>
</li>
<li><p>Create file <code>REFERENCES.bib</code> in subdirectory <code>inst/</code> of your package and put the BibTeX references in it.</p></li>
</ol>
<p><a id="org74b656d"></a></p>
</div>
<div id="inserting-references" class="section level2">
<h2 class="hasAnchor">
<a href="#inserting-references" class="anchor"></a>Inserting references</h2>
<p>Once the steps outlined above are done, references can be inserted in the documentation as</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">\insertRef{key}{package}</a></code></pre></div>
<p>where <code>key</code> is the bibtex key of the reference and <code>package</code> is your package. This works in <code>Rd</code> files and in <code>roxygen</code> documentation chunks.</p>
<p>Usually references are put in section <code>references</code>. In an <code>Rd</code> file this might look something like:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">\references{</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">\insertRef{Rdpack<span class="op">:</span>bibtex}{Rdpack}</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">\insertRef{R}{bibtex}</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">}</a></code></pre></div>
<p>The equivalent <code>roxygen2</code> documentation chunk would be:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co">#' @references</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co">#' \insertRef{Rpack:bibtex}{Rdpack}</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#'</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#' \insertRef{R}{bibtex}</span></a></code></pre></div>
<p>The first line above inserts the reference with key <code>Rpack:bibtex</code> in Rdpack’s REFERENCES.bib. The second line inserts the reference labeled <code>R</code> in file REFERENCES.bib from package <code>bibtex</code>.</p>
<p>The example above demonstrates that references from other packages can be inserted (in this case <code>bibtex</code>), as well. This is strongly discouraged for released versions but is convenient during development. One relatively safe use is when the other package is also yours - this allows authors of multiple packages to not copy the same refences to each of their own packages.</p>
<p>For further details see the vignette <a href="https://cran.r-project.org/package=Rdpack"><code>Inserting_bibtex_references</code></a> or open the the from <code>R</code>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">vignette</span>(<span class="st">"Inserting_bibtex_references"</span>, <span class="dt">package =</span> <span class="st">"Rdpack"</span>)</a></code></pre></div>
<p>(The latest version of the vignette is at <a href="https://github.com/GeoBosh/Rdpack/blob/master/vignettes/Inserting_bibtex_references.pdf"><code>Inserting_bibtex_references (development version on github)</code></a>.)</p>
<p><a id="org671c6b0"></a></p>
</div>
<div id="inserting-citations" class="section level2">
<h2 class="hasAnchor">
<a href="#inserting-citations" class="anchor"></a>Inserting citations</h2>
<p>From version 0.6-1 of “Rdpack”, additional Rd macros are available for citations. They can be used in both Rd and roxygen2 documentation.</p>
<p><code>\insertCite{key}{package}</code> cites <code>key</code> and records it for use by <code>\insertAllCited</code>, see below. <code>key</code> can contain more keys separated by commas.</p>
<p><code>\insertCite{parseRd,Rpack:bibtex}{Rdpack}</code> produces (Murdoch 2010; Francois 2014) and <code>\insertCite{Rpack:bibtex}{Rdpack}</code> gives (Francois 2014).</p>
<p>By default the citations are parenthesised: <code>\insertCite{parseRd}{Rdpack}</code> produces (Murdoch 2010). To get textual citations, like Murdoch (2010), put the string <code>;textual</code> at the end of the key. The references in the last two sentences would be produced with <code>\insertCite{parseRd}{Rdpack}</code> and <code>\insertCite{parseRd;textual}{Rdpack}</code>, respectively. This also works with several citations, e.g.</p>
<p><code>\insertCite{parseRd,Rpack:bibtex;textual}{Rdpack}</code> produces: Murdoch (2010); Francois (2014).</p>
<p>The macro <code>\insertNoCite{key}{package}</code> records one or more references for <code>\insertAllCited</code> but does not cite it. Setting <code>key</code> to <code>*</code> will include all references from the specified package. For example, <code>\insertNoCite{R}{bibtex}</code> and <code>\insertNoCite{*}{utils}</code> record the specified references for inclusion by <code>\insertAllCited</code>.</p>
<p><code>\insertAllCited</code> inserts all references cited with <code>\insertCite</code> or <code>\insertNoCite</code>. Putting this macro in the references section will keep it up to date automatically. The Rd section may look something like:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">\insertAllCited{}</a></code></pre></div>
<p>or, in roxygen2, the references chunk might look like this:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co">#' @references</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">#'     \insertAllCited{}</span></a></code></pre></div>
<p>To mix the citations with other text, such as ``see also’‘and ``chapter 3’’, write the list of keys as a free text, starting it with the symbol <code>@</code> and prefixing each key with it. The <code>@</code> symbol will not appear in the output. For example, the following code</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">\insertCite{<span class="op">@</span>see also <span class="op">@</span>parseRd and <span class="op">@</span>Rpack<span class="op">:</span>bibtex}{Rdpack}</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">\insertCite{<span class="op">@</span>see also <span class="op">@</span>parseRd; <span class="op">@</span>Rpack<span class="op">:</span>bibtex}{Rdpack}</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">\insertCite{<span class="op">@</span>see also <span class="op">@</span>parseRd and <span class="op">@</span>Rpack<span class="op">:</span>bibtex;textual}{Rdpack}</a></code></pre></div>
<p>produces:</p>
<p>(see also Murdoch 2010 and Francois 2014)</p>
<p>(see also Murdoch 2010; Francois 2014)</p>
<p>see also Murdoch (2010) and Francois (2014)</p>
<p>—</p>
<p><code>\insertCiteOnly{key}{package}</code> is as <code>\insertCite</code> but does not include the key in the list of references for <code>\insertAllCited</code>.</p>
<p><a id="orga414a22"></a></p>
</div>
<div id="changing-the-style-of-references" class="section level2">
<h2 class="hasAnchor">
<a href="#changing-the-style-of-references" class="anchor"></a>Changing the style of references</h2>
<p>Bibliography styles for lists of references are supported from <span class="underline">Rdpack (&gt;= 0.8)</span>. Currently the only alternative offered is to use long names (Georgi N. Boshnakov) in place of the default style (Boshnakov GN). More comprehensive alternatives can be included if needed or requested.</p>
<p>To cause all list of references produced by <code>\insertAllCited</code> in a package to appear with full names, add <code>.onLoad()</code> function to your package. If you don’t have <code>.onLoad()</code>, just copy the following definition:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">.onLoad &lt;-<span class="st"> </span><span class="cf">function</span>(lib, pkg){</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">    Rdpack<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Rdpack/topics/Rdpack_bibstyles">Rdpack_bibstyles</a></span>(<span class="dt">package =</span> pkg, <span class="dt">authors =</span> <span class="st">"LongNames"</span>)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">    <span class="kw">invisible</span>(<span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">}</a></code></pre></div>
<p>If you already have <code>.onLoad()</code>, add the line containing the <code><a href="reference/Rdpack_bibstyles.html">Rdpack::Rdpack_bibstyles</a></code> call to it.</p>
<p>After installling/reloading your package the lists of references should appear with long author names. “Rdpack” itself now uses this style.</p>
<p><a id="org42ce6a6"></a></p>
</div>
<div id="troubleshooting" class="section level2">
<h2 class="hasAnchor">
<a href="#troubleshooting" class="anchor"></a>Troubleshooting</h2>
<p><a id="orgaf9110b"></a></p>
<div id="a-puzzling-message-in-devtools-development-mode" class="section level3">
<h3 class="hasAnchor">
<a href="#a-puzzling-message-in-devtools-development-mode" class="anchor"></a>A puzzling message in devtools development mode</h3>
<p>The described procedure works transparently in <code>roxygen2</code> chunks and with Hadley Wickham’s package <code>devtools</code>. Packages are built and installed properly with the <code>devtools</code> commands and the references are processed as expected.</p>
<p>Currently (2017-08-04) if you run help commands <code>?xxx</code> for functions from the package you are working on <em>in developement mode</em> and their help pages contain references, you may encounter some puzzling warning messages, something like:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="dv">1</span><span class="op">:</span><span class="st"> </span>In tools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tools/topics/parse_Rd">parse_Rd</a></span>(path) <span class="op">:</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="er">~/</span>mypackage<span class="op">/</span>man<span class="op">/</span>abcde.Rd<span class="op">:</span><span class="st"> </span><span class="dv">67</span><span class="op">:</span><span class="st"> </span>unknown macro <span class="st">'\insertRef'</span></a></code></pre></div>
<p>These warnings are harmless and can be ignored — the help pages are built properly and no warnings appear outside <em>developer’s mode</em>, e.g. in a separate R session<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>. Even better, use the function <code><a href="reference/viewRd.html">viewRd()</a></code> described below to view the required help file.</p>
<p><a id="org3f51222"></a></p>
</div>
<div id="typical-errors" class="section level3">
<h3 class="hasAnchor">
<a href="#typical-errors" class="anchor"></a>Typical errors</h3>
<p>The functions underlying the processing of references and citations intercept errors, such as missing BibTeX labels or badly formed items in REFERENCES.bib, and issue informative warnings during the building and installation of the package, so that the developer is alerted but the package can still be built and installed. In these cases the functions usually insert a suitable text in the documentation, as well. If you encounter a situation contradicting this description, it is probably a bug — please report it (but check first for the typical errors listed below).</p>
<p>A non-decipherable error message is probably caused by one of the following typical errors:</p>
<ul>
<li><p>misspelled <code>RdMacros:</code> field in file DESCRIPTION. The safest way to avoid this is to copy it from the DESCRIPTION file of a working package.</p></li>
<li><p>omitted second argument of a reference or citation macro. Most of these macros have the package name as a second argument.</p></li>
</ul>
<p>These errors occur during parsing of the Rd files, before the control is passed to the <code>Rdpack</code>’s macros.</p>
<p><a id="org2bbb062"></a></p>
</div>
</div>
</div>
<div id="viewing-rd-files" class="section level1">
<h1 class="hasAnchor">
<a href="#viewing-rd-files" class="anchor"></a>Viewing Rd files</h1>
<p>A function, <code><a href="reference/viewRd.html">viewRd()</a></code>, to view Rd files in the source directory of a package was introduced in version 0.4-23 of <code>Rdpack</code>. A typical user call would look something like:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">Rdpack<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Rdpack/topics/viewRd">viewRd</a></span>(<span class="st">"./man/filename.Rd"</span>)</a></code></pre></div>
<p>By default the requested help page is shown in text format. To open the page in a browser, set argument ‘type’ to “html”:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">Rdpack<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Rdpack/topics/viewRd">viewRd</a></span>(<span class="st">"./man/filename.Rd"</span>, <span class="dt">type =</span> <span class="st">"html"</span>)</a></code></pre></div>
<p><code><a href="reference/viewRd.html">viewRd()</a></code> renders references and citations correctly, since it understands Rd macros.</p>
<p>Users of ‘devtools’ can use <code>viewRd</code> in place of <code>help()</code> to view rendered Rd sources in development mode. This should work also in development mode on any platform (e.g. RStudio, Emacs/ESS, Rgui).</p>
<p><a id="orgeab302e"></a></p>
</div>
<div id="using-rdpackreprompt" class="section level1">
<h1 class="hasAnchor">
<a href="#using-rdpackreprompt" class="anchor"></a>Using Rdpack::reprompt()</h1>
<p><a id="orgde74e9d"></a></p>
<div id="what-it-does" class="section level2">
<h2 class="hasAnchor">
<a href="#what-it-does" class="anchor"></a>What it does</h2>
<p><code><a href="reference/reprompt.html">Rdpack::reprompt()</a></code> updates <code>Rd</code> documentation. In the most common case when it is called on an <code>Rd</code> file, it updates the documentation of all functions, methods and classes documented in the file. For functions this includes updating the usage section, adding missing aliases and <code>\item</code>’s for arguments not described yet. For methods and classes entries for new methods and slots are updated in a similar way. See the documentation for details.</p>
<p><code><a href="reference/reprompt.html">Rdpack::reprompt()</a></code> can also be invoked on an object or the name of an object, just as <code><a href="http://www.rdocumentation.org/packages/utils/topics/prompt">utils::prompt</a></code>. In that case it checks for installed documentation for the object and works on it if found. Otherwise it creates an <code>Rd</code> file with initial content similar to the one generated by <code><a href="http://www.rdocumentation.org/packages/utils/topics/prompt">utils::prompt</a></code> but modified so that the package can be built.</p>
<p>If a new function, say <code>newfun</code> is to be documented in an existing Rd file, just add <code>newfun()</code> to the usage section in the file and call <code><a href="reference/reprompt.html">Rdpack::reprompt()</a></code> to insert the correct usage statement, add an alias, and add items for any new arguments.</p>
<p><code><a href="reference/reprompt.html">Rdpack::reprompt()</a></code> <strong>does not remove</strong> anything that has become obsolete but it alerts the user to remove aliases, methods, and descriptions of arguments that have been removed.</p>
<p><a id="orgcb865fc"></a></p>
</div>
<div id="reprompt-and-open-in-an-editor" class="section level2">
<h2 class="hasAnchor">
<a href="#reprompt-and-open-in-an-editor" class="anchor"></a>Reprompt and open in an editor</h2>
<p>To open the <code><a href="reference/reprompt.html">reprompt()</a></code>-ed file, argument <code>edit</code> can be used. For this to work, <code>options("editor")</code> needs to be set suitably but it usually is. If <code>edit = TRUE</code>, then <code><a href="reference/reprompt.html">Rdpack::reprompt()</a></code> will open the Rd file in an editor. For more convenient access to this feature, use <code><a href="reference/ereprompt.html">Rdpack::ereprompt()</a></code> (edit reprompt), which calls <code><a href="reference/reprompt.html">Rdpack::reprompt()</a></code> with <code>edit = TRUE</code> and sets the output filename to be the same as the input filename.</p>
<p>In RStudio, <code><a href="reference/reprompt.html">reprompt()</a></code> can be invoked on the <code>Rd</code> file being edited or the selected name of an object in a source code file using RStudio add-in <code>Repropmpt</code> (contributed by Duncan Murdoch). Obviously, this makes sense only for Rd files not generated by <code>roxygen2</code>.</p>
<p>In Emacs/ESS there are various ways to use <code><a href="reference/reprompt.html">Rdpack::reprompt()</a></code> and <code><a href="reference/ereprompt.html">Rdpack::ereprompt()</a></code>. If <code>options("editor")</code> is set to <code>emacsclient</code>, <code><a href="reference/ereprompt.html">Rdpack::ereprompt</a></code> is one option. It can also be assigned to a key (wrapped in Elisp code), for example to be invoked on the currently edited file. Such a function and example key binding can be found at <a href="https://github.com/GeoBosh/georgisemacs">georgisemacs</a>.</p>
<p><a id="orgabfa57b"></a></p>
</div>
</div>
<div id="inserting-evaluated-examples" class="section level1">
<h1 class="hasAnchor">
<a href="#inserting-evaluated-examples" class="anchor"></a>Inserting evaluated examples</h1>
<p>There is a macro that takes a chunk of R code, evaluates it, and includes both the code and the results in the rendered documentation. The layout is similar to that in the R console but the code is not prefixed with anything and the output is prefixed with comment symbols. For example,</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">\printExample{<span class="dv">2</span><span class="op">+</span><span class="dv">2</span>; a &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span><span class="dv">3</span>; a}</a></code></pre></div>
<p>gives</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2">##: 4</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">a &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4">a</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">##: 6</a></code></pre></div>
<p>See vignette <a href="https://github.com/GeoBosh/Rdpack/blob/master/vignettes/Inserting_figures_and_evaluated_examples.pdf"><code>Inserting_figures_and_evaluated_examples</code></a> for more details.</p>
<p><a id="orgcb5ab38"></a></p>
</div>
<div id="inserting-figuresgraphsplots" class="section level1">
<h1 class="hasAnchor">
<a href="#inserting-figuresgraphsplots" class="anchor"></a>Inserting figures/graphs/plots</h1>
<p>Figures can be inserted with the help of the standard Rd markup command <code>\figure</code>. The Rd macro <code>\insertFig</code> provided by package \pkg{Rdpack} takes a snipped of R code, evaluates it and inserts the plot produced by it (using <code>\figure</code>). <code>\insertFig</code> takes three arguments: a filename, the package name and the code to evaluate to produce the figure. For example,</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">\insertFig{cars.png}{mypackage}{x &lt;-<span class="st"> </span>cars<span class="op">$</span>speed; y &lt;-<span class="st"> </span>cars<span class="op">$</span>dist; <span class="kw">plot</span>(x,y)}</a></code></pre></div>
<p>will evaluate the code, save the graph in file <code>"man/figures/cars.png"</code> subdirectory of package <code>"mypackage"</code>, and include the figure using <code>\figure</code>.</p>
<p>See vignette <a href="https://github.com/GeoBosh/Rdpack/blob/master/vignettes/Inserting_figures_and_evaluated_examples.pdf"><code>Inserting_figures_and_evaluated_examples</code></a> for more details.</p>
</div>
<div id="footnotes" class="section level1">
<h1 class="hasAnchor">
<a href="#footnotes" class="anchor"></a>Footnotes</h1>
<p><sup><a id="fn.1" href="#fnr.1">1</a></sup> If you care, here is what happens. These warnings appear because <code>devtools</code> reroutes the help command to process the developer’s Rd sources (rather than the documentation in the installed directory) but doesn’t tell <code>parse_Rd</code> where to look for additional macros. Indeed, the message above shows that the error is in processing a source Rd file in the development directory of the package and that the call to <code>parse_Rd</code> specifies only the file.</p>
</div>

  </div>

  <div class="col-md-3" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=Rdpack">https://​cloud.r-project.org/​package=Rdpack</a>
</li>
<li>Browse source code at <br><a href="https://github.com/GeoBosh/Rdpack">https://​github.com/​GeoBosh/​Rdpack</a>
</li>
<li>Report a bug at <br><a href="https://github.com/GeoBosh/Rdpack/issues">https://​github.com/​GeoBosh/​Rdpack/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Georgi N. Boshnakov <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
