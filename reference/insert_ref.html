<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="

Package Rdpack provides Rd macros for inserting references and
  citations from bibtex files into R documentation.  Function
  insert_ref() is the workhorse behind this mechanism. The
  description given on this page should be sufficient, for more details
  see the vignette."><title>Insert bibtex references in Rd and roxygen2 documentation — insert_ref • Rdpack</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Insert bibtex references in Rd and roxygen2 documentation — insert_ref"><meta property="og:description" content="

Package Rdpack provides Rd macros for inserting references and
  citations from bibtex files into R documentation.  Function
  insert_ref() is the workhorse behind this mechanism. The
  description given on this page should be sufficient, for more details
  see the vignette."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Rdpack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/GeoBosh/Rdpack/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Insert bibtex references in Rd and roxygen2 documentation</h1>
      
      <div class="d-none name"><code>insert_ref.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    

<p>Package Rdpack provides Rd macros for inserting references and
  citations from bibtex files into R documentation.  Function
  <code>insert_ref()</code> is the workhorse behind this mechanism. The
  description given on this page should be sufficient, for more details
  see the vignette.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">insert_ref</span><span class="op">(</span><span class="va">key</span>, package <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, cached_env <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>key</dt>
<dd><p>the bibtex key of the reference, a character string.</p></dd>
<dt>package</dt>
<dd><p>the package in which to look for the bibtex file.</p></dd>
<dt>...</dt>
<dd><p>further arguments to pass on to <code><a href="get_bibentries.html">get_bibentries()</a></code>. The only
    one of interest to users is <code>bibfile</code>, whose default is
    "REFERENCES.bib", see <code><a href="get_bibentries.html">get_bibentries</a></code>.</p></dd>
<dt>cached_env</dt>
<dd><p>environment, used to avoid repeatedly pasing the bib
    file from scratch, mainly useful by the Rd macros.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    
  
<p><code>insert_ref</code> extracts a bibliograhic reference from a bibtex
  file, converts it to Rd format and returns a single string with
  embedded newline characters. It is the workhorse in the provided
  mechanism but most users do not even need to know about
  <code>insert_ref</code>.</p>
<p>Package <span class="pkg">Rdpack</span> provides several Rd macros for inserting
  references and citations in the documentation of a package. All macros
  work in both, manually written Rd files and in <span class="pkg">roxygen2</span>
  documentation chunks. The macros look for references in file
  <code>"REFERENCES.bib"</code> in the root of the installation directory of
  the package. When a package is in development mode under
  <span class="pkg">devtools</span>, <code>"inst/REFERENCES.bib"</code> in the development
  directory of the package is checked first. See also
  <code><a href="get_bibentries.html">get_bibentries</a></code> but note that while direct calls to
  <code>insert_ref()</code> can specify a different file, the filename and the
  places where it is looked for are fixed for the Rd macros.</p>  
<p>The description below assumes that <span class="pkg">Rdpack</span> has been added to file
  DESCRIPTION, as described in <code><a href="Rdpack-package.html">Rdpack-package</a></code> and vignette
  <code>"Inserting_bibtex_references"</code>. The Rd macros are put in the
  text of documentation sources (‘Rd’ files or ‘roxygen2’
  chunks).</p>
  
<p></p><div class="section">
<h3 id="rd-macro-insertref">Rd macro insertRef<a class="anchor" aria-label="anchor" href="#rd-macro-insertref"></a></h3>

  
<p><code>\insertRef{key}{package}</code> inserts the reference with bibtex key
    <code>key</code> from file <code>"REFERENCES.bib"</code> in package
    <code>package</code>. Argument ‘package’ can be any installed <span style="R">R</span>
    package, not necessarily the one of the documentation object, as long
    as it contains file <code>"REFERENCES.bib"</code> in the root of its
    installation directory.  The references are partially processed when
    the package is built.</p>    
<p>References inserted with <code>\insertRef</code> appear in the place where
    the macro is put, usually in a dedicated references section
    (<code>\references</code> in Rd files, <code>@references</code> in roxygen
    chunks).</p>    
<p>For example, section ‘References’ of this help page shows
    (among other things)) the rendered results of the following lines in
    the Rd source file:</p><div class="sourceCode"><pre><code>
        \insertRef{Rpackage:rbibutils}{Rdpack}
    
        \insertRef{parseRd}{Rdpack}
        
        \insertRef{bibutils6.10}{rbibutils}
    </code></pre></div>
    
<p>A roxygen2 documentation chunk might look like this:</p><div class="sourceCode"><pre><code><span class="co">#' @references</span>
        <span class="co">#' \insertRef{Rpackage:rbibutils}{Rdpack}</span>
        <span class="co">#' </span>
        <span class="co">#' \insertRef{parseRd}{Rdpack}</span>
        <span class="co">#' </span>
        <span class="co">#' \insertRef{bibutils6.10}{rbibutils}</span></code></pre></div>
    
<p>The first reference has label <code>Rpackage:rbibutils</code> and is taken
    from file <code>"REFERENCES.bib"</code> in package <span class="pkg">Rdpack</span>. The third
    reference is from the file <code>"REFERENCES.bib"</code> in package
    <span class="pkg">rbibutils</span>.</p>    
<p>For more details see vignette <code>"Inserting_bibtex_references"</code>.</p>
</div>

<p></p><div class="section">
<h3 id="rd-macro-insertcite">Rd macro insertCite<a class="anchor" aria-label="anchor" href="#rd-macro-insertcite"></a></h3>


<p><code>\insertCite{key}{package}</code> cites the key and records it for use
    by <code>\insertAllCited</code>, see below. <code>key</code> can contain more
    keys separated by commas.</p>    
<p></p><table class="table table"><tr><td><code>\insertCite{parseRd,Rpackage:rbibutils}{Rdpack}</code></td><td>(Murdoch 2010; Boshnakov and Putman 2020)</td><td><code>\insertCite{Rpackage:rbibutils}{Rdpack}</code></td></tr><tr><td>(Boshnakov and Putman 2020)</td><td><code>\insertCite{bibutils6.10}{rbibutils}</code></td><td>(Putnam 2020)</td></tr></table><p>By default the citations are parenthesised
    (Murdoch 2010)
.  To get textual citations, like
    Murdoch (2010)
, put the string <code>;textual</code>
    at the end of the key. The references in the last two sentences were
    produced with <code>\insertCite{parseRd}{Rdpack}</code> and
    <code>\insertCite{parseRd;textual}{Rdpack}</code>, respectively.  This
    also works with several citations, e.g.
    <br><code>\insertCite{parseRd,Rpackage:rbibutils;textual}{Rdpack}</code>
    produces: Murdoch (2010); Boshnakov and Putman (2020)
.</p>
<p>To mix the citations with other text, such as ‘see also’ and
    ‘chapter 3’, write the list of keys as free text, starting it
    with the symbol <code>@</code> and prefixing each key with it.  The
    <code>@</code> symbol will not appear in the output. For example, the
    following code</p><div class="sourceCode"><pre><code>
        \insertCite{@see also @parseRd and @Rpackage:rbibutils}{Rdpack},
    
        \insertCite{@see also @parseRd; @Rpackage:rbibutils}{Rdpack},
    
        \insertCite{@see also @parseRd and @Rpackage:rbibutils;textual}{Rdpack}.
    </code></pre></div><p>produces:</p>
<p></p><table class="table table"><tr><td>(see also Murdoch 2010 and Boshnakov and Putman 2020)
,</td></tr><tr><td>(see also Murdoch 2010; Boshnakov and Putman 2020)
,</td></tr><tr><td>see also Murdoch (2010) and Boshnakov and Putman (2020)
.</td></tr></table><p>In the parenthesised form, adding <code>;nobrackets</code> at the end of the
    list of keys causes the enclosing parentheses to be dropped. This is
    useful if you wish to use markup for the text surrounding the
    references. For example,</p><div class="sourceCode"><pre><code>
        (\emph{see also}  \insertCite{@@parseRd; @Rpackage:rbibutils;nobrackets}{Rdpack}).
      </code></pre></div><p>gives: (<em>see also</em>  Murdoch 2010; Boshnakov and Putman 2020
).
    Without ‘<code>;nobrackets</code>’ the result would be
      (<em>see also</em>  (Murdoch 2010; Boshnakov and Putman 2020)
).</p>
<p></p>
</div>
  
<p></p><div class="section">
<h3 id="rd-macro-insertnocite">Rd macro insertNoCite<a class="anchor" aria-label="anchor" href="#rd-macro-insertnocite"></a></h3>

  
<p>The macro <code>\insertNoCite{key}{package}</code> records one or more
  references for <code>\insertAllCited</code> but does not cite it. Setting
  <code>key</code> to <code>*</code> will include all references from the specified
  package. For example, <code>\insertNoCite{parseRd}{Rdpack}</code> and
  <code>\insertNoCite{*}{rbibutils}</code> record the specified references
  for inclusion by <code>\insertAllCited</code>.</p>
<p></p>
</div>
  
<p></p><div class="section">
<h3 id="rd-macro-insertallcited">Rd macro insertAllCited<a class="anchor" aria-label="anchor" href="#rd-macro-insertallcited"></a></h3>

  
<p><code>\insertAllCited</code> inserts all references cited with
    <code>\insertCite</code> and <code>\insertNoCite</code>. Putting this macro
    in the references section will keep the references up to date automatically. 
    The Rd section may look something like:</p><div class="sourceCode"><pre><code>
       \references{    
         \insertAllCited{}
       }
    </code></pre></div><p>or in roxygen2, the references chunk might look like this:</p><div class="sourceCode"><pre><code><span class="co">#' @references</span>
       <span class="co">#'   \insertAllCited{}</span></code></pre></div>

<p></p>
</div>

<p></p><div class="section">
<h3 id="rd-macro-insertnocite-1">Rd macro insertNoCite<a class="anchor" aria-label="anchor" href="#rd-macro-insertnocite-1"></a></h3>


<p><code>\insertCiteOnly{key}{package}</code> is as <code>\insertCite</code> but
    does not include the key in the list of references for
    <code>\insertAllCited</code>.</p>
<p></p>
</div>


    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>for <code>insert_ref</code>, a character string</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>For illustrative purposes there are two sets of citations below
  The first set of references is obtained with <code>\insertRef</code> for
  each reference:</p>
<p>Duncan Murdoch (2010).
“Parsing Rd files.”
<a href="https://developer.r-project.org/parseRd.pdf" class="external-link">https://developer.r-project.org/parseRd.pdf</a>.</p>
<p>Georgi
N. Boshnakov, Chris Putman (2020).
<em>rbibutils: Convert Between Bibliography Formats</em>.
<a href="https://CRAN.R-project.org/package=rbibutils" class="external-link">https://CRAN.R-project.org/package=rbibutils</a>.</p>
<p>Putnam C (2020).
“Library bibutils, version 6.10.”
<a href="https://sourceforge.net/projects/bibutils/" class="external-link">https://sourceforge.net/projects/bibutils/</a>.</p>  
<p>----</p>
<p>The following references are obtained with a single <code>\insertAllCited{}</code>. 
  The references are sorted automatically by the surnames of the authors:</p>
<p>Georgi
N. Boshnakov, Chris Putman (2020).
<em>rbibutils: Convert Between Bibliography Formats</em>.
<a href="https://CRAN.R-project.org/package=rbibutils" class="external-link">https://CRAN.R-project.org/package=rbibutils</a>.<br><br> Duncan Murdoch (2010).
“Parsing Rd files.”
<a href="https://developer.r-project.org/parseRd.pdf" class="external-link">https://developer.r-project.org/parseRd.pdf</a>.<br><br> Chris Putnam (2020).
“Library bibutils, version 6.10.”
<a href="https://sourceforge.net/projects/bibutils/" class="external-link">https://sourceforge.net/projects/bibutils/</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Georgi N. Boshnakov</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="Rdpack-package.html">Rdpack-package</a></code> for overview,</p>
<p><code>vignette("Inserting_bibtex_references", package = "Rdpack")</code> for
  further details on the citation macros</p>
<p><code><a href="insert_citeOnly.html">insert_citeOnly</a></code> for the function generating citations</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu">insert_ref</span><span class="op">(</span><span class="st">"Rpackage:rbibutils"</span>, <span class="st">"Rdpack"</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Georgi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> N. Boshnakov, Chris Putman (2020).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \emph{rbibutils: Convert Between Bibliography Formats}.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \url{https://CRAN.R-project.org/package=rbibutils}. </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

